name: zxz
help: a CLI to interact with <https://0x0.st/>
version: 0.1.0
footer: |
  Credits:
    zxz repository: https://github.com/meleu/zxz

    The https://0x0.st/ is a service maintained by Mia Herkt,
    consider supporting them financially (check the webpage).

dependencies:
  - curl
  - gum
  - cut
  - date
  - grep

commands:
  - name: upload
    help: "Upload FILE to https://0x0.st/"
    default: true

    args:
      - name: file
        required: true
        help: "file to upload (max file size: 512MB)"
        validate: file_exists

    flags:
      - long: --secret
        short: -s
        help: Ask the server to generate a longer and hard-to-guess URL

      - long: --server
        short: -S
        arg: server
        default: "https://0x0.st/"
        help: Upload to a custom 0x0 instance server
        validate: http_url

  - name: list
    alias: [ls, l]
    help: List the files you already uploaded
    flags:
      - long: --update
        short: -u
        help: Update the list of uploaded files removing the unavailable ones.

  - name: delete
    alias: [del, d]
    help: Delete an uploaded file from the remote server.

examples:
  - zxz <filename>

variables:
  - name: USER_AGENT
    value: zxz/$version - https://github.com/meleu/zxz
  - name: LOG_DIR
    value: "${XDG_DATA_HOME:-${HOME}/.local/share}/zxz"
  - name: LOG_FILE
    value: "${LOG_DIR}/uploads.log"
