name: zxz
help: a CLI to interact with <https://0x0.st/>
version: 0.0.3

dependencies:
  - curl
  - date
  - gum

commands:
  - name: upload
    help: Upload FILE to https://0x0.st/
    default: true

    args:
      # accessible via `${args[file]}`
      - name: file
        required: true
        help: file to upload
        # runs `validate_file_exists ${args[file]}`
        validate: file_exists

    flags:
      # if used, `${args[--secret]} == 1`
      - long: --secret
        short: -s
        help: A longer and hard-to-guess URL will be generated

      # if used, `${args[--server] == <SERVER>`
      - long: --server
        short: -S
        arg: server
        default: "https://0x0.st/"
        help: Upload to a custom 0x0 instance server
        # runs `validate_http_url ${args[--server]}`
        validate: http_url

  - name: list
    alias: [ls, l]
    help: List the files you already uploaded

  - name: delete
    alias: [del, d]
    help: Delete an uploaded file from the remote server.

examples:
  - zxz <filename>

variables:
  - name: USER_AGENT
    value: zxz/$version - https://github.com/meleu/zxz
  - name: LOG_DIR
    value: "${XDG_DATA_HOME:-${HOME}/.local/share}/zxz"
  - name: LOG_FILE
    value: "${LOG_DIR}/uploads.log"
